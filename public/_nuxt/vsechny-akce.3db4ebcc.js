import{u as y}from"./fetch.db9540ed.js";import{q as A,u as w,C as z,c as o,a as t,F as k,D as b,v as g,o as u,t as s}from"./entry.04dbe281.js";const v={class:"u-full-width"},x=t("thead",null,[t("tr",null,[t("th",null,"Kdo"),t("th",null,"Co"),t("th",null,"Šifra"),t("th",null,"Kdy")])],-1),S=A({__name:"vsechny-akce",async setup(C){let l,c;const i=w(),{data:d}=([l,c]=z(()=>y("/api/team-actions-all",{headers:{Authorization:`Bearer ${i.jwt}`}},"$foHURKGA1A")),l=await l,c(),l),p=d.value.teamActions,h=Object.entries(p).map(([a,n])=>Object.entries(n.puzzles).map(([e,m])=>m.map(r=>(r.teamName=a,r.puzzleIndex=e,r)))).flat(2).sort((a,n)=>{const e=new Date(a.timestamp).getTime();return new Date(n.timestamp).getTime()-e});function _(a){return new Date(a).toLocaleString("cs-CZ",{weekday:"long",hour:"numeric",minute:"numeric"})}function f(a){return{unlocked:"odemkl",solved:"vyřešil",failed:"zadal špatné heslo"}[a]}return(a,n)=>(u(),o("table",v,[x,t("tbody",null,[(u(!0),o(k,null,b(g(h),e=>(u(),o("tr",{key:e.timestamp},[t("td",null,s(e.teamName),1),t("td",null,s(f(e.action))+" "+s(e.payload),1),t("td",null,s(e.puzzleIndex),1),t("td",null,s(_(e.timestamp)),1)]))),128))])]))}});export{S as default};
